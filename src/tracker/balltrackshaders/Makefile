SHADERS=diff.frag display.frag fixedcolor.frag phase1.frag phase2.frag phase2_dilatered.frag phase3.frag plain.frag vshader.vert vshader_yflip.vert
#SHADERFILES=$(patsubst %, balltrackshaders/%, $(SHADERS))

# First append terminating 0, save result in temporary build directory, then run xxd -i on that.
allshaders.h: $(SHADERS)
	@rm -f $@
	@mkdir -p build
	@echo "// This file was autogenerated. See Makefile for details." >> $@
	for shader in $(SHADERS); do (dd if=/dev/zero bs=1 count=1 status=none | cat "$$shader" - > "build/$$shader"; cd build/; xxd -i "$$shader" >> "../$@"; cd ..;); done
	@rm -rf build
