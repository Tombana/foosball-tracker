SHADERS=colorfilterball.frag colorfilterfield.frag debug.frag diff.frag downsample.frag fixedcolor.frag simple.frag vshader.vert vshader_yflip.vert yuvsource.frag
#SHADERFILES=$(patsubst %, balltrackshaders/%, $(SHADERS))

# First append terminating 0, save result in temporary build directory, then run xxd -i on that.
allshaders.h: $(SHADERS)
	@rm -f $@
	@mkdir -p build
	@echo "// This file was autogenerated. See Makefile for details." >> $@
	for shader in $(SHADERS); do (dd if=/dev/zero bs=1 count=1 status=none | cat "$$shader" - > "build/$$shader"; cd build/; xxd -i "$$shader" >> "../$@"; cd ..;); done
	@rm -rf build
